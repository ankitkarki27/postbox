{# ================= profile.html ================= #}
{% extends 'layouts/d.html' %}
{% load static %}

{% block content %}
<div id="profile" class="flex flex-col items-center gap-2">

    {# Profile Header Card #}
    <section class="w-full max-w-3xl">
        <div class="card p-6 rounded-2xl shadow-sm">
            <div class="flex flex-col items-center text-center">
                <img class="w-28 h-28 rounded-full object-cover ring-4 ring-gray-100"
                     src="{{ profile.avatar }}" alt="avatar" />

                <h1 class="mt-4 text-2xl font-semibold text-gray-800">
                    {{ profile.user.get_full_name }}
                </h1>
                <p class="text-sm text-gray-500">@{{ profile.user.username }}</p>

                {% if profile.location %}
                <div class="mt-2 flex items-center gap-1 text-xs text-gray-500">
                    <img class="h-4 opacity-60"
                         src="https://img.icons8.com/material-outlined/50/000000/marker.png" />
                    <span>{{ profile.location }}</span>
                </div>
                {% endif %}

                {% if profile.bio %}
                <p class="mt-4 max-w-md text-sm text-gray-600 leading-relaxed">
                    {{ profile.bio }}
                </p>
                {% endif %}

                <div class="mt-5 flex gap-3">
                    {% if profile.user != user %}
                        <a class="button px-4 py-2" href="{% url 'start-chat' profile.user.username %}">
                            Send Message
                        </a>
                    {% else %}
                        <a href="{% url 'profile-edit' %}" class="text-sm font-medium text-blue-600 hover:underline">
                            Edit Profile
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </section>

    {# Tabs #}
    <nav id="tabs" class="flex gap-2 text-sm">
        <a class="tab selected">Latest</a>
        <a class="tab">Top Posts</a>
        <a class="tab">Top Comments</a>
        <a class="tab">Liked Posts</a>
    </nav>

    {# Posts Grid #}
    <section id="tab-contents" class="w-full">
        <div class="grid gap-6 max-w-6xl mx-auto sm:grid-cols-2 lg:grid-cols-3">

            <article class="card rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition">
                <header class="flex items-center justify-between px-4 py-3 border-b">
                    <h3 class="font-medium truncate">Little Jedi</h3>
                    <span class="text-xs text-gray-400">
                        flickr Â· <a href="#" class="hover:underline">@John Doe</a>
                    </span>
                </header>

                <figure class="bg-gray-100">
                    <a href="#">
                        <img class="w-full object-cover"
                             src="https://live.staticflickr.com/65535/50618365686_36f887ab88_c.jpg"
                             alt="post image" />
                    </a>
                </figure>

                <div class="p-4">
                    <a class="flex items-center gap-2 mb-3" href="#">
                        <img class="w-8 h-8 rounded-full object-cover"
                             src="https://img.icons8.com/small/96/A9A9A9/happy.png" />
                        <div class="leading-tight">
                            <div class="text-sm font-semibold">Lisa</div>
                            <div class="text-xs text-gray-400">@lisasimpson</div>
                        </div>
                    </a>

                    <p class="text-lg font-medium mb-4 leading-snug">
                        Jedi Kitty protects the street
                    </p>

                    <div class="flex flex-wrap gap-2 mb-4 text-xs">
                        <a class="px-3 py-1 rounded-full bg-gray-100 hover:bg-gray-800 hover:text-white" href="#">
                            Animals
                        </a>
                        <a class="px-3 py-1 rounded-full bg-gray-100 hover:bg-gray-800 hover:text-white" href="#">
                            Black & White
                        </a>
                    </div>

                    <footer class="flex items-center justify-between text-sm">
                        <a class="font-medium hover:underline" href="#">
                            Comments <span class="text-gray-400">3</span>
                        </a>
                        <div class="flex items-center gap-4 text-gray-500">
                            <span class="flex items-center gap-1">
                                <img class="w-5" src="https://img.icons8.com/small/24/000000/fire-heart.png" />1
                            </span>
                            <a href="#" class="hover:underline">Like</a>
                            <a href="#" class="hover:underline">Edit</a>
                            <a href="#" class="hover:underline">Delete</a>
                        </div>
                    </footer>
                </div>
            </article>

        </div>
    </section>

</div>
{% endblock %}
